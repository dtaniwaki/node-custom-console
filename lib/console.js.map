{"version":3,"sources":["console.coffee"],"names":[],"mappings":"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","file":"console.js","sourceRoot":"/src","sourcesContent":["assert = require 'assert'\n\nclass CustomConsole\n  @getDebugLevel = (s) ->\n    return 0 unless s\n    switch s.toLowerCase()\n      when 'log' then 1\n      when 'info' then 2\n      when 'warn' then 3\n      when 'error' then 4\n      else 0\n\n  constructor: (tag, options) ->\n    assert tag, 'tag is required'\n\n    @console = options.console || require 'console'\n    @tag = tag\n\n    @init()\n\n  init: ->\n    debug = process.env.NODE_DEBUG || ''\n    @enabled = (new RegExp(\"\\\\*(\\\\:(.+))?|\\\\b#{@tag}(\\\\:(.+))?\\\\b\")).test debug\n    match = RegExp.$4 || RegExp.$2\n    @level = CustomConsole.getDebugLevel(match)\n\n  output: (severity, tag) ->\n    return false unless @enabled\n    CustomConsole.getDebugLevel(severity) >= @level\n\n  prefix: (severity, tag) ->\n    time = (new Date()).toISOString()\n    \"#{time} [#{severity}] #{process.pid} #{tag}:\"\n\n  postfix: (severity, tag) ->\n    ''\n\n  template = (name) ->\n    (args...) ->\n      _args = []\n\n      prefix = @prefix(name, @tag)\n      _args.push prefix if prefix\n\n      _args = _args.concat args\n\n      postfix = @postfix(name, @tag)\n      _args.push postfix if postfix\n\n      @console[name] _args... if @output(name, @tag)\n\n  for name in ['log', 'info', 'warn', 'error']\n    @::[name] = template(name)\n \n  delegate = (name) ->\n    (args...) ->\n      @console[name] args...\n\n  for name in ['trace', 'time', 'timeEnd', 'assert', 'dir']\n    @::[name] = delegate(name)\n\nmodule.exports = (tag, options) ->\n  new CustomConsole(tag, options)\n"]}